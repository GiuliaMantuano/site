<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->
<head>
<title>Code coverage is a side effect and not an end goal time | Codurance </title>
 <!-- Meta -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Our team of dedicated software craftsmen provides consultancy, software development, and training services to clients seeking high quality development processes and software solutions.">
<meta name="author" content="Codurance Ltd">

<!-- Open Graph tags - Used when publishing on Facebook -->
<meta property="og:site_name" content="Codurance"/>
<meta property="og:description" content="Our team of dedicated software craftsmen provides consultancy, software development, and training services to clients seeking high quality development processes and software solutions."/>
<meta property="og:url" content="http://codurance.com"/>
<meta property="og:image" content="http://codurance.com/assets/img/codurance.png"/>

<!-- Favicon -->
<link rel="shortcut icon" href="/assets/img/favicon.ico">

<!-- CSS Global Compulsory -->
<link rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="/assets/css/style.css">

<!-- CSS Implementing Plugins -->
<link rel="stylesheet" href="/assets/plugins/line-icons/line-icons.css">
<link rel="stylesheet" href="/assets/plugins/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.css">

<!-- CSS Theme -->
<link rel="stylesheet" href="/assets/css/plugins.css">
<link rel="stylesheet" href="/assets/css/app.css">
<link rel="stylesheet" href="/assets/css/theme-colors/orange.css" id="style_color">

<!-- CSS Customization -->
<link rel="stylesheet" href="/assets/css/custom.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/idea.min.css">
<!--fonts -->
<link href='http://fonts.googleapis.com/css?family=Oxygen:700,400' rel='stylesheet' type='text/css'>



<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46289079-1', 'codurance.com');
    ga('send', 'pageview');
</script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</head>

<body>

<div class="wrapper">
<!--=== Header ===-->
<div class="header-v3 header-sticky">
        <!-- Navbar -->
        <div class="navbar navbar-default" role="navigation">
            <div class="container">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="fa fa-bars"></span>
                    </button>
                    <a class="navbar-brand" href="/">
                        <img id="logo-header" src="/assets/img/codurance.png" height="45px;" alt="Logo">
                    </a>
                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse navbar-responsive-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="/services">Services</a></li>
                        <li><a href="/videos">Videos</a></li>
                        <li><a href="/blog">Blog</a></li>
                        <li><a href="/work-with-us">Work with us</a></li>
                        <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown">About Us <i class="icon-angle-down">&nbsp;</i></a><ul class="dropdown-menu">
                            <li><a href="/aboutus/ourteam">Our Team</a></li>
                            <li><a href="/aboutus/ourcompany">Our Company</a></li>
                            <li><a href="/aboutus/ourpractices">Our Practices</a></li>
                        </ul></li>
                    </ul>
                </div><!--/navbar-collapse-->
            </div>    
        </div>            
        <!-- End Navbar -->
    </div>
    <!--=== End Header ===--> 

<!--=== End Header ===-->


    <div class="breadcrumbs margin-bottom-10">
        <div class="container">
            <h1 class="pull-left">Code coverage is a side effect and not an end goal time</h1>
            <ul class="pull-right breadcrumb">
                <li><a href="/">Home</a></li>
                
                    <li>
                    
                        <a href="/blog">Blog</a>
                    
                    </li>
                
            </ul>
        </div>
    </div>



<div class="container">
<div class="row blog-page blog-item">
<!-- Left Sidebar -->
<div class="col-md-9 md-margin-bottom-60">
    <!--Blog Post-->
    <div class="blog margin-bottom-40">
        
        <div class="blog-post-tags">
            <ul class="list-unstyled list-inline blog-info">
                <li><i class="fa fa-calendar"></i> 06 Feb 2012</li>
                <li><i class="fa fa-pencil"></i> Sandro Mancuso</li>
                <li class="blog-share-buttons">
                  <script src="//platform.linkedin.com/in.js" type="text/javascript"> lang: en_US</script>
                  <script type="IN/Share"></script>

                  <a class="twitter-share-button"
                      href="https://twitter.com/intent/tweet?url=http://www.codurance.com/2012/02/06/code-coverage-is-side-effect-and-not/"
                      data-count="none">
                      Tweet</a>
                </li>
            </ul>
        </div>
        

        

        <p>In my previous life as a consultant, one of our clients hired us to
"increase the code coverage" of their code base. We would not develop
any new features or make any changes. They just wanted us to write
tests. Basically they wanted us to bring the coverage up to 70%. Why 70%
you may ask. Probably because someone pulled a finger out of his or her
back orifice, sniffed it and thought: Hmm.. this definitely smells like
70%.</p>

<p>Regardless the stupid and random number, as consultants we actually did
our best to actually write proper and meaningful tests. They did not
want us to refactoring. Just tests. The developers themselves (client
employees) would not be writing tests. Probably too busy doing proper
work, breaking the tests after each commit. Thanks for them, they had
the monkeys here fixing the tests. The reason for that was that the same
person with the smelly finger decided that everyone would have a higher
bonus if they reached 70% test coverage. </p>

<p>More recently, I've seen a similar behaviour. Keeping a close eye on the
metrics provided by <a href="http://www.sonarsource.org/">Sonar</a>, that does a
great job by the way, managers and senior developers are constantly
pushing the teams to improve the quality of the code. Time is allocated
in
every <a href="https://en.wikipedia.org/wiki/Scrum_%28software_development%29#Sprint">sprint</a> and
developers are asked to increase the code coverage. The intention behind
it is good, right? Bit by bit the application get better. Awesome. </p>

<p>The idea was to improve the quality and reliability of the application.
Unfortunately, developers with the urge to finish the task, just focused
on the "increase code coverage" part of the task. They then started
writing "tests" that were not asserting anything. Basically what they
were doing was writing some code inside a test method that would invoke
public methods in classes but would not test the outcomes or side
effects of those method invocations. </p>

<h3>What does code coverage measure?</h3>

<p>It measures the percentage of the code <em>exercised</em> by code written
inside test methods. It does not measure the percentage of code <em>tested</em>
by testing code. Having a test method that just invokes a public method
in a class and <em>does not</em> test (assert/verify) anything, will make the
code coverage go up but <em>will not</em> test the system. This, of course, is
totally pointless since it does not test if the public method invoked
actually does what it is supposed to do or if it does anything at all.</p>

<h3>Why do we invest time in writing tests?</h3>

<p>(In no particular order)</p>

<ul>
<li>Make sure we understand what the application does, according to the
executable requirements (tests); </li>
<li>Make sure that the application still does the right thing after we
make changes to it or indicates possible areas of conflicts (failing
tests);</li>
<li>Make sure we have regression test; </li>
<li>Make sure that in a click of a button we can know if the application
is working correctly; </li>
<li>Make sure that we have a quick and small feedback loop in terms of
quality and correctness of our application; </li>
<li>Make sure the application is simplified and easily maintainable, via
testing and refactoring; </li>
<li>Make sure the complexity of the application is spread thin instead
of having localised big balls of mud that we are scared to touch;</li>
<li>Make sure that we can easily add new features quickly; </li>
<li>Make sure that we extend the ROI in our software, extending its
lifespan; </li>
<li>Make sure that our software does not rot, impeding and/or slowing
down business progress; </li>
<li>Make sure that our clients are happy with the software;</li>
</ul>


<p>By the way, when I mention test, I mean all types/levels of tests, not
just unit.</p>

<h3>What should we focus on?</h3>

<blockquote>Focus on what the metrics are telling you and not on improving the numbers. Focusing on numbers may give you a false impression of quality.</blockquote>


<p>My point here is that the focus should be on TESTING the application and
not in increasing its code coverage metric. We need to make sure we
capture the behaviour of our application via tests, expressing its
intent, refactoring to make it better. Tests (at all levels) should tell
you a story about the behaviour of your application. And guess what? In
writing tests for your application, besides all the benefits mentioned
above, your code coverage metric will still go up as a side effect.</p>


        
    </div>
    <!--End Blog Post-->
</div>
<!-- End Left Sidebar -->

<!-- Right Sidebar -->
<div class="col-md-3 magazine-page">
    <!-- Blog Latest Tweets -->
    <div class="blog-twitter margin-bottom-30">
        <a class="twitter-timeline" href="https://twitter.com/mashooq/codurance" data-widget-id="400789734676385792">Tweets from Codurance team</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<script>window.twttr = (function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0],t = window.twttr || {};if (d.getElementById(id)) return t;js = d.createElement(s);js.id = id;js.src = "https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, "script", "twitter-wjs"));</script>
    </div>
    <!-- End Blog Latest Tweets -->
</div>
<!-- End Right Sidebar -->
</div>
<!--/row-->
</div>
<!--/container-->


<!--=== Copyright ===-->
<div class="footer-default">
    <div class="copyright">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <p class="copyright-space">
                         Company Registration No: 8712584
                         | Contact us: <a href="mailto:hello@codurance.com" class="">hello@codurance.com</a>
                         | Phone: +44 203 440 4015
                    </p>

                </div>
                <div class="col-md-4">
                    <ul class="social-icons pull-right">
                        <li><a href="/atom.xml" data-original-title="Feed" class="social_rss"></a></li>
                        <li><a href="http://twitter.com/codurance" data-original-title="Twitter" class="social_twitter"></a></li>
                    </ul>
                </div>
            </div> <!--/row-->
        </div> <!--/container-->
    </div><!--/copyright-->
</div>

<!--=== End Copyright ===-->
</div>

<!-- JS Global Compulsory -->
<script type="text/javascript" src="/assets/plugins/jquery/jquery.min.js"></script>
<script type="text/javascript" src="/assets/plugins/jquery/jquery-migrate.min.js"></script>
<script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/assets/plugins/back-to-top.js"></script>
<!-- JS Implementing Plugins -->
<script type="text/javascript" src="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.js"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
<script type="text/javascript" src="/assets/plugins/gmap/gmap.js"></script>
<!-- JS Customization -->
<script type="text/javascript" src="/assets/js/custom.js"></script>
<!-- JS Page Level -->
<script type="text/javascript" src="/assets/js/app.js"></script>
<script type="text/javascript" src="/assets/js/pages/index.js"></script>

<script type="text/javascript">
    jQuery(document).ready(function() {
        App.init();
        Index.initOwlCarousel();
        Contact.initMap();
    });
</script>
<!--[if lt IE 9]>
    <script src="/assets/plugins/respond.js"></script>
    <script src="/assets/plugins/html5shiv.js"></script> 
    <script src="/assets/js/plugins/placeholder-IE-fixes.js"></script>   
<![endif]-->

</body>
</html>
